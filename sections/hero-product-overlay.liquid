{% stylesheet %}
.hero-product-overlay {
  position: relative;
  width: 100%;
}

.hero-product-overlay img {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
}

.hero-overlay-card {
    position: absolute;
    top: 20px;
    left: 20px;
    background: #fff;
    padding: 20px;
    max-width: 342px;
    width: 100%;
    border-radius: 2px;
    backdrop-filter: blur(26.600000381469727px);
}

.hero-overlay-card h4 {
    width: 128px;
    font-size: 14px;
    line-height: 15px;
    letter-spacing: -0.4px;
    text-transform: uppercase;
    color: #1f1f1f;
    margin: 0;
}
.hero_card_items {
    display: flex;
    column-gap: 16px;
}
.hero-overlay-card .price {
    font-size: 14px;
    line-height: normal;
    flex-basis: 1px;
    letter-spacing: -.02px;
    text-transform: uppercase;
    color: #1f1f1f;
}

.hero-rating {
    width: fit-content;
    font-size: 17px;
    letter-spacing: 2.1px;
    color: #1F1F1F;
    margin-top: 4px;
}

.hero-btn {
    display: inline-block;
    padding: 8px 10px;
    border: 1px solid #1F1F1F;
    text-decoration: none;
    color: #1F1F1F;
    transition: 0.3s;
    font-size: 14px;
    line-height: 100%;
    letter-spacing: 0;
    border-radius: 4px;
    height: 100%;
}

.hero-btn:hover {
  background: #1F1F1F;
  color: #fff;
}

/* Mobile */
@media (max-width: 768px) {
 .hero-product-overlay .hero-overlay-card {
    position: absolute;
    margin: 0;
    max-width: 126px;
    width: 100%;
    top: unset;
    left: unset;
    bottom: 10px;
    right:12px;
    padding: 12px 15px 12px 12px;
}
.hero_card_items {
    column-gap: 14px;
    flex-direction: column;
}
.hero-overlay-card .price,
.hero-overlay-card h4 {
    font-size: 12px !important;
    width: 99px;
    letter-spacing: 1.232px;
    line-height: 12.67px;
}
.hero-overlay-card .price {
    margin-top: 8px;
    line-height: 14px;
}
.hero-btn {
    width: 100%;
    padding: 4px 8px 6px 8px;
    font-size: 12px;
    line-height: 100%;
    margin-top: 8px;
    letter-spacing: -0.3px;
    max-width: 72px;
  }
    .hero-rating {
    font-size: 13px;
    width: fit-content;
    letter-spacing: 2.1px;
    color: #1f1f1f;
    margin-top: 5px;
  }
}
{% endstylesheet %}

<div class="hero-product-overlay">
  {% if section.settings.desktop_image %}
    <picture>
      {% if section.settings.mobile_image %}
        <source media="(max-width: 768px)" srcset="{{ section.settings.mobile_image | image_url: width: 800 }}">
      {% endif %}
      <img src="{{ section.settings.desktop_image | image_url: width: 2000 }}" alt="Hero Image">
    </picture>
  {% endif %}

  {% if section.settings.product != blank %}
    {% assign product = all_products[section.settings.product] %}
    <div class="hero-overlay-card">
        <div class="hero_card_items">
      <h4>{{ product.title }}
        <div class="hero-rating">
        ★★★★★({{ section.settings.review_count }})
      </div>
      </h4>

      <div class="price">
        {{ product.price | money }}
      </div>

     

      <a href="{{ product.url }}" class="hero-btn">
        {{ section.settings.button_text }}
      </a>
</div>
       
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "Hero Product Overlay",
  "settings": [
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop Image"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile Image"
    },
    {
      "type": "product",
      "id": "product",
      "label": "Select Product"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Shop now"
    },
    {
      "type": "text",
      "id": "review_count",
      "label": "Review Count",
      "default": "17"
    }
  ],
  "presets": [
    {
      "name": "Hero Image with Product Card"
    }
  ]
}
{% endschema %}
