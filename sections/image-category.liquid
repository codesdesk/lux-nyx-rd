<section class="image-category-section">
    {%if section.settings.heading !=blank%}
      <h2 class="image-category-heading">{{ section.settings.heading }}</h2>
    {%endif%}
    <div class="image-category-grid">
        {% for block in section.blocks %}
            <a href="{{ block.settings.link }}" class="image-grid-item"> 
            {% if block.settings.image != blank %} 
                <img src="{{ block.settings.image | img_url: 'medium' }}" alt="{{ block.settings.image.alt | escape }}" class="image-category-image">
            {% endif %} 
            
            {% if block.settings.title != blank %} 
                <h3 class="image-category-title">{{ block.settings.title }}</h3>
                
            {% endif %}
            </a>
        {% endfor %}
    </div>
</section>
{% schema %}
{
  "name": "Image Category Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Shop by Category"
    }
  ],
  "blocks": [
    {
      "type": "image_category_block",
      "name": "Image Category Block",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Category Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Category Title"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Category Link"
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Image Category Section",
      "category": "Custom Sections"
    }
  ]
}

{% endschema %}