<div class="press-mentions {{ section.settings.add_class }}" style="
  background: {{ section.settings.bg_color }};
">

  <div class="page-width">

    <!-- Top Row -->
    <div class="press-header {% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
      <span class="press-label">{{ section.settings.label }}</span>

      {% if section.settings.button_text != blank %}
        <a href="{{ section.settings.button_link }}" class="press-btn">
          {{ section.settings.button_text }}
        </a>
      {% endif %}
    </div>

    <!-- Quote -->
   <div class="press-quote" id="pressQuote">
  {{ section.settings.quote }}
</div>


    <!-- Logos -->
  <div class="press-logos">
  {% for block in section.blocks %}
    {% if block.settings.logo != blank %}
      <button
        class="press-logo block-{{ block.id }} {% if forloop.first %}active{% endif %}"
        data-quote="{{ block.settings.logo_quote | escape }}"
        {{ block.shopify_attributes }}
      >
        <img
          src="{{ block.settings.logo | img_url: 'master' }}"
          alt="Press logo"
          loading="lazy"
        >
      </button>
    {% endif %}
  {% endfor %}
</div>


  </div>
</div>



<style>
  {% for block in section.blocks %}
  .press-logos .press-logo.block-{{ block.id }} img {
      width: {{ block.settings.logo_width }}px;
    }
  {% endfor %}

  .press-mentions{
  padding-top: {{ section.settings.padding_top }}px;
  padding-bottom: {{ section.settings.padding_bottom }}px;
  }

.press-mentions {
  border-top: 1px solid #ddd;
  border-bottom: 1px solid #ddd;
}

.press-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 37px;
}

.press-label {
    font-size: 18px;
    line-height: 14px;
    padding: 0px 0 4px;
    letter-spacing: 0.03px;
    text-transform: uppercase;
    color: {{ section.settings.label_color }};
}

.press-btn {
  font-size: 18px;
    line-height: 14px;
    letter-spacing: 0;
    text-align: right;
    text-decoration: underline;
    text-decoration-style: solid;
    text-decoration-offset: 0%;
    text-decoration-thickness: 0%;
    color: {{ section.settings.button_color }};
}

.press-quote {
  font-size: {{ section.settings.quote_size }}px;
  font-weight: 500;
  line-height: 100%;
  text-indent: 240px;
  margin-bottom: 56px;
  color: #1F1F1F;
  letter-spacing: -0.01em;
}
.press-quote p {
    margin: 0;
    letter-spacing: -0.01em;
}
.press-quote em {
  font-style: italic;
  letter-spacing: -0.01em;
}

.press-logos {
    display: flex;
    {% comment %} gap: 174px; {% endcomment %}
    align-items: center;
    flex-wrap: wrap;
    justify-content: space-between;
    max-width: 1133px;
    width: 100%;
    margin: 0 auto;
    {% comment %} text-indent: 80px; {% endcomment %}
}
{% if section.settings.height == 'custom' %}
  .press-logo img {
    max-height: {{ section.settings.logo_height }}px;
  }
  {% else %}
  .press-logo img {
    max-height: auto;
  }
{% endif %}
.press-logo {
  background: none;
  border: 0;
  padding: 0;
  cursor: pointer;
  opacity: 0.4;
  transition: opacity 0.3s ease;
}

.press-logo.active,
.press-logo:hover {
  opacity: 1;
  margin:0;
}

/* Mobile */
@media (max-width: 749px) {
    {% for block in section.blocks %}
      .press-logos .press-logo.block-{{ block.id }} img {
          width: {{ block.settings.logo_width_mobile }}px;
        }
      {% endfor %}

    .press-mentions{
      padding-top: {{ section.settings.padding_top-mobile }}px;
      padding-bottom: {{ section.settings.padding_bottom-mobile }}px;
    }
    .press-mentions.product_press {
        padding-top: 6px !important;
    }
    .press-mentions.product_press .press-quote em {
        line-height: 100%;
    }
  .press-header {
    gap: 12px;
    margin-bottom: 33px;
  }

  .press-quote {
    font-size: {{ section.settings.quote_size_mobile }}px;
    text-indent:0;
    line-height: 31.4px;
    margin-bottom:28px;
  }

  .press-logos {
    column-gap: 29.5px;
    text-indent: 0;
    row-gap: 15px;
    justify-content: space-around;
  }
  .press-label, .press-btn {
    font-size: 14px;
    line-height: normal;
    letter-spacing: 0;
  }

}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const logos = document.querySelectorAll(".press-logo");
  const quoteBox = document.getElementById("pressQuote");

  logos.forEach((logo) => {
    logo.addEventListener("click", function () {
      // Change quote
      const newQuote = this.getAttribute("data-quote");
      if (newQuote && quoteBox) {
        quoteBox.innerHTML = newQuote;
      }

      // Active state
      logos.forEach(l => l.classList.remove("active"));
      this.classList.add("active");
    });
  });
});
</script>



{% schema %}
{
  "name": "Press Mentions",
  "settings": [
    {
      "type": "text",
      "id": "add_class",
      "label": "Add class"
    },
    {
      "type": "text",
      "id": "label",
      "label": "Section Label",
      "default": "PRESS MENTIONS"
    },
    {
      "type": "richtext",
      "id": "quote",
      "label": "Quote Text",
      "default": "<p><em>We use ethically-sourced materials</em> and uplift communities through both design and giving back.</p>"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "range",
      "id": "quote_size",
      "label": "Quote Font Size (Desktop)",
      "min": 24,
      "max": 60,
      "step": 2,
      "default": 40
    },
    {
      "type": "range",
      "id": "quote_size_mobile",
      "label": "Quote Font Size (Mobile)",
      "min": 18,
      "max": 36,
      "step": 2,
      "default": 26
    },
    {
      "type": "select",
      "id": "height",
      "label": "Logo Height",
      "options": [
        {
          "value": "custom",
          "label": "Custom"
        },
        {
          "value": "auto",
          "label": "Auto"
        }
      ],
      "default": "custom"
    },
    {
      "type": "range",
      "id": "logo_height",
      "label": "Logo Height",
      "min": 20,
      "max": 80,
      "step": 2,
      "default": 40,
      "visible_if": "{{ section.settings.height == 'custom' }}"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "label_color",
      "label": "Label Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Padding-Desktop"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Top",
      "min": 0,
      "max": 120,
      "step": 2,
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bottom",
      "min": 0,
      "max": 120,
      "step": 2,
      "default": 60
    },
    {
      "type": "header",
      "content": "Padding-Mobile"
    },
    {
      "type": "range",
      "id": "padding_top-mobile",
      "label": "Padding Top",
      "min": 0,
      "max": 120,
      "step": 2,
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom-mobile",
      "label": "Padding Bottom",
      "min": 0,
      "max": 120,
      "step": 2,
      "default": 60
    }
  ],
  "blocks": [
  {
    "type": "logo",
    "name": "Press Logo",
    "settings": [
      {
        "type": "image_picker",
        "id": "logo",
        "label": "Logo Image"
      },
      {
        "type": "number",
        "id": "logo_width",
        "label": "Logo width",
        "default": 40
       },
       {
        "type": "number",
        "id": "logo_width_mobile",
        "label": "Logo width Mobile",
        "default": 40
       },
      {
        "type": "richtext",
        "id": "logo_quote",
        "label": "Quote for this logo",
        "default": "<p><em>We use ethically-sourced materials</em> and uplift communities.</p>"
      }
    ]
  }
],
  "presets": [
    {
      "name": "Press Mentions"
    }
  ]
}
{% endschema %}
